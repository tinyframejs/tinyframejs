import * as path from 'path';
export function getPluginOptions(context, opts) {
    const docsPreset = context.siteConfig?.presets?.find((preset) => Boolean(preset[1]?.docs));
    const docsPresetPath = docsPreset
        ? docsPreset[1]?.docs?.path || './docs'
        : './docs';
    const options = {
        out: './docs/api',
        docsPath: path.join(context.siteDir, docsPresetPath),
        numberPrefixParser: docsPreset
            ? (docsPreset[1]?.docs?.numberPrefixParser ?? true)
            : true,
        ...opts,
        plugin: [
            ...new Set([
                ...['typedoc-plugin-markdown', 'typedoc-docusaurus-theme'],
                ...(opts.plugin || []),
            ]),
        ],
    };
    return options;
}
